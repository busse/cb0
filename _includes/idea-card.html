{%- comment -%}
  Card component for displaying an idea in list/grid views
  Parameters:
    - idea: The idea object from site.ideas
{%- endcomment -%}
{%- assign idea = include.idea -%}
{%- include helpers/stories-for-idea.html idea_number=idea.idea_number -%}
{%- assign story_count = stories_list.size -%}

<article class="idea-card idea-card--{{ idea.status }}" 
         data-idea="{{ idea.idea_number }}"
         data-status="{{ idea.status }}">
  <header class="idea-card__header">
    {% include notation-badge.html idea=idea.idea_number %}
    <span class="status-indicator status-indicator--{{ idea.status }}">{{ idea.status | upcase }}</span>
  </header>
  
  <h3 class="idea-card__title">
    <a href="{{ idea.url | relative_url }}">{{ idea.title }}</a>
  </h3>
  
  <p class="idea-card__description">{{ idea.description }}</p>
  
  <footer class="idea-card__meta">
    <span class="idea-card__stories">{{ story_count }} {% if story_count == 1 %}story{% else %}stories{% endif %}</span>
    <time class="idea-card__date" datetime="{{ idea.created }}">{{ idea.created | date: "%Y-%m-%d" }}</time>
  </footer>
</article>

