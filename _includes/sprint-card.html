{%- comment -%}
  Card component for displaying a sprint in list/grid views
  Parameters:
    - sprint: The sprint object from site.sprints
{%- endcomment -%}
{%- assign sprint = include.sprint -%}
{%- include helpers/stories-for-sprint.html sprint_id=sprint.sprint_id -%}
{%- assign story_count = sprint_stories.size -%}

<article class="sprint-card sprint-card--{{ sprint.status }}" data-sprint="{{ sprint.sprint_id }}">
  <header class="sprint-card__header">
    {% include notation-badge.html sprint=sprint.sprint_id size="lg" %}
    <span class="status-indicator status-indicator--{{ sprint.status }}">{{ sprint.status | upcase }}</span>
  </header>
  
  <div class="sprint-card__dates">
    <time>{{ sprint.start_date | date: "%b %d" }}</time>
    <span class="sprint-card__date-separator">→</span>
    <time>{{ sprint.end_date | date: "%b %d, %Y" }}</time>
  </div>
  
  {%- if sprint.goals.size > 0 -%}
    <ul class="sprint-card__goals">
      {%- for goal in sprint.goals limit:3 -%}
        <li>{{ goal }}</li>
      {%- endfor -%}
    </ul>
  {%- endif -%}
  
  <footer class="sprint-card__meta">
    <span>{{ story_count }} {% if story_count == 1 %}story{% else %}stories{% endif %}</span>
    <a href="{{ sprint.url | relative_url }}">VIEW BOARD →</a>
  </footer>
</article>

