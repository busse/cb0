{%- comment -%}
  Card component for displaying a story in list/grid views
  Parameters:
    - story: The story object from site.stories
{%- endcomment -%}
{%- assign story = include.story -%}

<article class="story-card story-card--{{ story.status }}" data-priority="{{ story.priority }}" data-story="{{ story.idea_number }}.{{ story.story_number }}">
  <header class="story-card__header">
    {% include notation-badge.html idea=story.idea_number story=story.story_number size="sm" %}
    <span class="priority-indicator priority-indicator--{{ story.priority }}">{{ story.priority | upcase }}</span>
  </header>
  
  <h4 class="story-card__title">
    <a href="{{ story.url | relative_url }}">{{ story.title }}</a>
  </h4>
  
  <p class="story-card__description">{{ story.description | truncate: 120 }}</p>
  
  <footer class="story-card__meta">
    <span class="status-indicator status-indicator--{{ story.status }}">{{ story.status | replace: "-", " " | upcase }}</span>
    {%- if story.assigned_sprint -%}
      <span class="story-card__sprint">{% include notation-badge.html sprint=story.assigned_sprint size="sm" %}</span>
    {%- else -%}
      <span class="story-card__sprint story-card__sprint--backlog">Backlog</span>
    {%- endif -%}
  </footer>
</article>

